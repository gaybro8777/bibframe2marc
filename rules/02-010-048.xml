<?xml version='1.0'?>
<rules xmlns="http://www.loc.gov/bf2marc"
       xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
       xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
       xmlns:bf="http://id.loc.gov/ontologies/bibframe/"
       xmlns:bflc="http://id.loc.gov/ontologies/bflc/"
       xmlns:madsrdf="http://www.loc.gov/mads/rdf/v1#"
       xmlns:marc="http://www.loc.gov/MARC21/slim"
       xmlns:xsl="http://www.w3.org/1999/XSL/Transform">

  <df tag="010" repeatable="false">
    <context xpath="rdf:RDF/bf:Instance/bf:identifiedBy/*[
        (local-name()='Lccn' or rdf:type[@rdf:resource='http://id.loc.gov/ontologies/bibframe/Lccn']) and
        not(
          bf:status/bf:Status/rdfs:label='invalid' or
          bf:status/@rdf:resource='http://id.loc.gov/vocabulary/mstatus/invalid' or
          bf:status/bf:Status/@rdf:about='http://id.loc.gov/vocabulary/mstatus/invalid'
        )]">
      <ind1 default=" "/>
      <ind2 default=" "/>
      <sf code="a" repeatable="false">
        <select xpath="rdf:value"/>
      </sf>
      <sf code="z">
        <select xpath="ancestor::bf:Instance/bf:identifiedBy/*[
            (local-name()='Lccn' or rdf:type[@rdf:resource='http://id.loc.gov/ontologies/bibframe/Lccn']) and
            (
              bf:status/bf:Status/rdfs:label='invalid' or
              bf:status/@rdf:resource='http://id.loc.gov/vocabulary/mstatus/invalid' or
              bf:status/bf:Status/@rdf:about='http://id.loc.gov/vocabulary/mstatus/invalid'
            )]/rdf:value"/>
      </sf>
    </context>
  </df>

</rules>
