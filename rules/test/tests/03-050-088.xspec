<?xml version="1.0" encoding="UTF-8"?>

<x:description xmlns:x="http://www.jenitennison.com/xslt/xspec"
               xmlns:marc="http://www.loc.gov/MARC21/slim"
               stylesheet="../../../bibframe2marc.xsl"
               xslt-version="1.0">

  <x:scenario label="MARC 050">
    <x:context href="../data/050-088/050-088.xml"/>
    <x:expect label="generate 050" test="count(//marc:datafield[@tag='050']) = 1"/>
    <x:expect label="ind1 from heldBy property"
              test="//marc:datafield[@tag='050'][1]/@ind1 = '0'"/>
  </x:scenario>

  <x:scenario label="MARC 052">
    <x:context href="../data/050-088/050-088.xml"/>
    <x:expect label="generate 052" test="count(//marc:datafield[@tag='052']) = 1"/>
    <x:expect label="ind1 default to blank"
              test="//marc:datafield[@tag='052'][1]/@ind1 = ' '"/>
    <x:expect label="ind2 default to blank"
              test="//marc:datafield[@tag='052'][1]/@ind2 = ' '"/>
    <x:expect label="$a from label"
              test="//marc:datafield[@tag='052'][1] = '4034 R4 R8'"/>
  </x:scenario>

  <x:scenario label="MARC 060">
    <x:context href="../data/050-088/050-088.xml"/>
    <x:expect label="generate 060 from bf:ClassificationNlm" test="count(//marc:datafield[@tag='060']) = 1"/>
    <x:expect label="ind2 from bf:source" test="//marc:datafield[@tag='060']/@ind2 = '0'"/>
    <x:expect label="$a from bf:classificationPortion" test="//marc:datafield[@tag='060']/marc:subfield[@code='a'] = 'Z 675.M4'"/>
    <x:expect label="$b from bf:itemPortion" test="//marc:datafield[@tag='060']/marc:subfield[@code='b'] = 'N532f'"/>
    <x:expect label="$0 from URI" test="//marc:datafield[@tag='060']/marc:subfield[@code='0'][1] = 'http://nlm.nih.gov/callnumbers/Z675_M4'"/>
    <x:expect label="$0 from rdf:value of Identifier" test="//marc:datafield[@tag='060']/marc:subfield[@code='0'][2] = '(NLM)Z675.M4'"/>
  </x:scenario>

  <x:scenario label="MARC 082">
    <x:context href="../data/050-088/050-088.xml"/>
    <x:expect label="generate 082" test="count(//marc:datafield[@tag='082']) = 1"/>
  </x:scenario>

</x:description>
