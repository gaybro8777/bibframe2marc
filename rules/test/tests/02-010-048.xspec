<?xml version="1.0" encoding="UTF-8"?>

<x:description xmlns:x="http://www.jenitennison.com/xslt/xspec"
               xmlns:marc="http://www.loc.gov/MARC21/slim"
               stylesheet="../../../bibframe2marc.xsl"
               xslt-version="1.0">

  <x:scenario label="MARC 010">
    <x:context href="../data/010-048/010-048.xml"/>
    <x:expect label="generate 010" test="count(//marc:datafield[@tag='010']) = 1"/>
  </x:scenario>

  <x:scenario label="MARC 015">
    <x:context href="../data/010-048/010-048.xml"/>
    <x:expect label="generate 015" test="count(//marc:datafield[@tag='015']) = 2"/>
  </x:scenario>

  <x:scenario label="MARC 016">
    <x:context href="../data/010-048/010-048.xml"/>
    <x:expect label="generate 016" test="count(//marc:datafield[@tag='016']) = 2"/>
  </x:scenario>

  <x:scenario label="MARC 017">
    <x:context href="../data/010-048/010-048.xml"/>
    <x:expect label="generate 017" test="count(//marc:datafield[@tag='017']) = 1"/>
  </x:scenario>

  <x:scenario label="MARC 020">
    <x:context href="../data/010-048/010-048.xml"/>
    <x:expect label="generate 020" test="count(//marc:datafield[@tag='020']) = 2"/>
  </x:scenario>

  <x:scenario label="MARC 022">
    <x:context href="../data/010-048/010-048.xml"/>
    <x:expect label="generate 022" test="count(//marc:datafield[@tag='022']) = 3"/>
  </x:scenario>

  <x:scenario label="MARC 024">
    <x:context href="../data/010-048/010-048.xml"/>
    <x:expect label="generate 024" test="count(//marc:datafield[@tag='024']) = 1"/>
  </x:scenario>

  <x:scenario label="MARC 025">
    <x:context href="../data/010-048/010-048.xml"/>
    <x:expect label="generate 025" test="count(//marc:datafield[@tag='025']) = 1"/>
  </x:scenario>

  <x:scenario label="MARC 026">
    <x:context href="../data/010-048/010-048.xml"/>
    <x:expect label="generate 026" test="count(//marc:datafield[@tag='026']) = 1"/>
  </x:scenario>

  <x:scenario label="MARC 027">
    <x:context href="../data/010-048/010-048.xml"/>
    <x:expect label="generate 027" test="count(//marc:datafield[@tag='027']) = 1"/>
  </x:scenario>

  <x:scenario label="MARC 028">
    <x:context href="../data/010-048/010-048.xml"/>
    <x:expect label="generate 028" test="count(//marc:datafield[@tag='028']) = 1"/>
  </x:scenario>

  <x:scenario label="MARC 030">
    <x:context href="../data/010-048/010-048.xml"/>
    <x:expect label="generate 030" test="count(//marc:datafield[@tag='030']) = 1"/>
  </x:scenario>

  <x:scenario label="MARC 032">
    <x:context href="../data/010-048/010-048.xml"/>
    <x:expect label="generate 032" test="count(//marc:datafield[@tag='032']) = 1"/>
  </x:scenario>

  <x:scenario label="MARC 033">
    <x:context href="../data/010-048/010-048.xml"/>
    <x:expect label="generate 033" test="count(//marc:datafield[@tag='033']) = 1"/>
  </x:scenario>

  <!-- awaiting input on MARC 034 -->

  <x:scenario label="MARC 035">
    <x:context href="../data/010-048/010-048.xml"/>
    <x:expect label="generate 035" test="count(//marc:datafield[@tag='035']) = 1"/>
  </x:scenario>

  <x:scenario label="MARC 036">
    <x:context href="../data/010-048/010-048.xml"/>
    <x:expect label="generate 036 from bf:StudyNumber" test="count(//marc:datafield[@tag='036']) = 1"/>
    <x:expect label="rdf:value goes in $a" test="//marc:datafield[@tag='036']/marc:subfield[@code='a'] = 'CNRS 84115'"/>
    <x:expect label="bf:source goes in $b" test="//marc:datafield[@tag='036']/marc:subfield[@code='b'] = 'Centre national de la recherche scientifique'"/>
  </x:scenario>

  <x:scenario label="MARC 037">
    <x:context href="../data/010-048/010-048.xml"/>
    <x:expect label="generate 037 from bf:acquisitionSource" test="count(//marc:datafield[@tag='037']) = 1"/>
    <x:expect label="I1 from note" test="//marc:datafield[@tag='037']/@ind1 = '3'"/>
    <x:expect label="$3 from appliesTo" test="//marc:datafield[@tag='037']/marc:subfield[@code='3'] = '2014'"/>
    <x:expect label="$a from StockNumber" test="//marc:datafield[@tag='037']/marc:subfield[@code='a'] = 'BL_12860042'"/>
    <x:expect label="$b from rdfs:label" test="//marc:datafield[@tag='037']/marc:subfield[@code='b'] = 'Portico'"/>
    <x:expect label="$c from acquisitionTerms" test="//marc:datafield[@tag='037']/marc:subfield[@code='c'] = '$175.00'"/>
    <x:expect label="$n from note" test="//marc:datafield[@tag='037']/marc:subfield[@code='n'] = 'paperback'"/>
    <x:expect label="$5 from applicableInstitution" test="//marc:datafield[@tag='037']/marc:subfield[@code='5'] = 'Uk'"/>
  </x:scenario>

</x:description>
