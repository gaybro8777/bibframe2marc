<?xml version="1.0" encoding="UTF-8"?>

<x:description xmlns:x="http://www.jenitennison.com/xslt/xspec"
               xmlns:marc="http://www.loc.gov/MARC21/slim"
               xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
               xmlns:bf="http://id.loc.gov/ontologies/bibframe/"
               stylesheet="../../../bibframe2marc.xsl"
               xslt-version="1.0">

  <!-- To run this test file separately, uncomment the line below -->
  <!-- <x:param name="pRecordId">test001</x:param> -->

  <x:scenario label="MARC 001">
    <x:context href="../data/001-005/001.xml"/>
    <x:expect label="...should be generated from the pRecordId global parameter"
              test="marc:record/marc:controlfield[@tag='001'] = 'test001'"/>
  </x:scenario>
  
  <x:scenario label="MARC 003">
    <x:context href="../data/001-005/003.xml"/>
    <x:expect label="...should be generated from bf:Work/bf:adminMetadata/bf:AdminMetadata/bf:source/bf:Source/bf:code"
              test="marc:record/marc:controlfield[@tag='003'] = 'DLC'"/>
  </x:scenario>

  <x:scenario label="MARC 005">
    <x:context href="../data/001-005/005.xml"/>
    <x:expect label="...should be converted from bf:Work/bf:adminMetadata/bf:AdminMetadata/bf:changeDate"
              test="marc:record/marc:controlfield[@tag='005'] = '20040915141353.0'"/>
  </x:scenario>

</x:description>
