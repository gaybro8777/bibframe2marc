<?xml version="1.0" encoding="UTF-8"?>

<x:description xmlns:x="http://www.jenitennison.com/xslt/xspec"
               xmlns:marc="http://www.loc.gov/MARC21/slim"
               stylesheet="../../../bibframe2marc.xsl"
               xslt-version="1.0">

  <!-- To run this test file separately, uncomment the lines below -->
  <!-- <x:param name="vCurrentVersion">0.1.0-TEST</x:param> -->
  <!-- <x:param name="pGenerationDatestamp">NOW</x:param> -->

  <x:scenario label="Default MARC field 500">
    <x:context href="../data/regression/bibframe.xml"/>
    <x:expect label="...all records should have the default 500 field"
              test="count(marc:record/marc:datafield[@tag='500']/marc:subfield[@code='a'][contains(text(),'MARC record generated by DLC bibframe2marc')]) = 1"/>
    <x:expect label="...with the version"
              test="contains(marc:record/marc:datafield[@tag='500']/marc:subfield[@code='a'][contains(text(),'MARC record generated by DLC bibframe2marc')],'0.1.0-TEST')"/>
    <x:expect label="...and the datestamp"
              test="contains(marc:record/marc:datafield[@tag='500']/marc:subfield[@code='a'][contains(text(),'MARC record generated by DLC bibframe2marc')],': NOW')"/>
  </x:scenario>

</x:description>
